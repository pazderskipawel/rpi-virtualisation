- name: Add klipper config to nginx
  include_tasks: ../nginx/tasks/add_service.yml
  vars:
    service_name: klipper
    service_config_path: "{{ role_path }}/files/klipper_nginx.conf"

- name: start klipper containers from docker-compose file
  community.docker.docker_compose_v2:
    project_src: "{{ role_path }}/files"
    state: present

- name: Add Samba share
  include_role: 
    name: samba
    tasks_from: add_samba_share
  vars:
    share_name: gcodes
    share_path: printer_data/gcodes
    share_service_name: klipper
  